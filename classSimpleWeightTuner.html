<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CARLsim: SimpleWeightTuner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="CARLsimStyles.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CARLsim
   &#160;<span id="projectnumber">4.1.0</span>
   </div>
   <div id="projectbrief">CARLsim: a GPU-accelerated SNN simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classSimpleWeightTuner.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classSimpleWeightTuner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SimpleWeightTuner Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class <a class="el" href="classSimpleWeightTuner.html" title="Class SimpleWeightTuner.">SimpleWeightTuner</a>.  
 <a href="classSimpleWeightTuner.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="simple__weight__tuner_8h_source.html">simple_weight_tuner.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleWeightTuner_1_1Impl.html">Impl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private implementation of the Stopwatch Utility.  <a href="classSimpleWeightTuner_1_1Impl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aef7f74d86afb9c71153e95ed35435e6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleWeightTuner.html#aef7f74d86afb9c71153e95ed35435e6e">SimpleWeightTuner</a> (<a class="el" href="classCARLsim.html">CARLsim</a> *sim, double errorMargin=1e-3, int maxIter=100, double stepSizeFraction=0.5)</td></tr>
<tr class="memdesc:aef7f74d86afb9c71153e95ed35435e6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new instance of class <a class="el" href="classSimpleWeightTuner.html" title="Class SimpleWeightTuner.">SimpleWeightTuner</a>.  <a href="classSimpleWeightTuner.html#aef7f74d86afb9c71153e95ed35435e6e">More...</a><br /></td></tr>
<tr class="separator:aef7f74d86afb9c71153e95ed35435e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c26d2ccc1a3d4d2ccf82001b913e9bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleWeightTuner.html#a9c26d2ccc1a3d4d2ccf82001b913e9bc">~SimpleWeightTuner</a> ()</td></tr>
<tr class="memdesc:a9c26d2ccc1a3d4d2ccf82001b913e9bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="classSimpleWeightTuner.html#a9c26d2ccc1a3d4d2ccf82001b913e9bc">More...</a><br /></td></tr>
<tr class="separator:a9c26d2ccc1a3d4d2ccf82001b913e9bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade73a38ce8a5e65b1b16989a265e3d9f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleWeightTuner.html#ade73a38ce8a5e65b1b16989a265e3d9f">done</a> (bool printMessage=false)</td></tr>
<tr class="memdesc:ade73a38ce8a5e65b1b16989a265e3d9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a termination criterion has been met.  <a href="classSimpleWeightTuner.html#ade73a38ce8a5e65b1b16989a265e3d9f">More...</a><br /></td></tr>
<tr class="separator:ade73a38ce8a5e65b1b16989a265e3d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df985e3ff7a27edc1e2e3fcc8261843"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleWeightTuner.html#a0df985e3ff7a27edc1e2e3fcc8261843">iterate</a> (int runDurationMs=1000, bool printStatus=true)</td></tr>
<tr class="memdesc:a0df985e3ff7a27edc1e2e3fcc8261843"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an iteration step of the tuning algorithm.  <a href="classSimpleWeightTuner.html#a0df985e3ff7a27edc1e2e3fcc8261843">More...</a><br /></td></tr>
<tr class="separator:a0df985e3ff7a27edc1e2e3fcc8261843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20897c5c8bd47f5d4005989bead0e55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleWeightTuner.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr class="memdesc:ad20897c5c8bd47f5d4005989bead0e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the algorithm to initial conditions.  <a href="classSimpleWeightTuner.html#ad20897c5c8bd47f5d4005989bead0e55">More...</a><br /></td></tr>
<tr class="separator:ad20897c5c8bd47f5d4005989bead0e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38404b885b5978e42b10f309a2e23c94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleWeightTuner.html#a38404b885b5978e42b10f309a2e23c94">setConnectionToTune</a> (short int connId, double initWt=-1.0, bool adjustRange=true)</td></tr>
<tr class="memdesc:a38404b885b5978e42b10f309a2e23c94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the connection to tune.  <a href="classSimpleWeightTuner.html#a38404b885b5978e42b10f309a2e23c94">More...</a><br /></td></tr>
<tr class="separator:a38404b885b5978e42b10f309a2e23c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c93ba1766ad5ada73dea7ba499d541"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleWeightTuner.html#ac1c93ba1766ad5ada73dea7ba499d541">setTargetFiringRate</a> (int grpId, double targetRate)</td></tr>
<tr class="memdesc:ac1c93ba1766ad5ada73dea7ba499d541"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the target firing rate of a specific group.  <a href="classSimpleWeightTuner.html#ac1c93ba1766ad5ada73dea7ba499d541">More...</a><br /></td></tr>
<tr class="separator:ac1c93ba1766ad5ada73dea7ba499d541"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classSimpleWeightTuner.html" title="Class SimpleWeightTuner.">SimpleWeightTuner</a> utility is a class that implements a simple search algorithm inspired by the bisection method.</p>
<p>The usage scenario is to tune the weights of a specific connection (collection of synapses) so that a specific neuron group fires at a predefined target firing rateâ€”without having to recompile the network. A complete code example can be found in the Tutorial subfolder 12_advanced_topics/simple_weight_tuner.</p>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="comment">// assume CARLsim object exists with the following components:</span></div>
<div class="line"><span class="keywordtype">int</span> gOut=sim-&gt;<a class="code" href="classCARLsim.html#a6e11c10b6b079715074d857452c42e11">createGroup</a>(<span class="stringliteral">&quot;out&quot;</span>, nNeur, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);</div>
<div class="line">sim-&gt;<a class="code" href="classCARLsim.html#aa6e1dc5ae50722ae3d693f2c963d84cd">setNeuronParameters</a>(gOut, 0.02f, 0.2f, -65.0f, 8.0f);</div>
<div class="line"><span class="keywordtype">int</span> gIn=sim-&gt;<a class="code" href="classCARLsim.html#a0bf4d12b0b90740faf9a2f6a4add0351">createSpikeGeneratorGroup</a>(<span class="stringliteral">&quot;in&quot;</span>, nNeur, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);</div>
<div class="line"><span class="keywordtype">int</span> c0=sim-&gt;<a class="code" href="classCARLsim.html#a30b16b93d57551dcde0559e8a4e98e27">connect</a>(gIn, gOut, <span class="stringliteral">&quot;random&quot;</span>, <a class="code" href="structRangeWeight.html">RangeWeight</a>(initWt), 0.1f, <a class="code" href="structRangeDelay.html">RangeDelay</a>(1,10));</div>
<div class="line"><span class="comment">// etc.</span></div>
<div class="line">sim-&gt;<a class="code" href="classCARLsim.html#a6d6c298c788eeb7b18a19d82a77761b3">setupNetwork</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// use weight tuner to find the weights that give 27.4 Hz spiking in gOut</span></div>
<div class="line"><a class="code" href="classSimpleWeightTuner.html">SimpleWeightTuner</a> SWT(sim, 0.01, 100);</div>
<div class="line">SWT.setConnectionToTune(c0, 0.0);</div>
<div class="line">SWT.setTargetFiringRate(gOut, 27.4);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span> (!SWT.done()) {</div>
<div class="line">   SWT.iterate();</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd>Tutorial: <a class="el" href="ch12_advanced_topics.html#ch12s4s1_simple_weight_tuner">12.4.1 Simple Weight Tuner</a> </dd>
<dd>
Code example: <code>tutorial/12_advanced_topics/simple_weight_tuner/main_simple_weight_tuner.cpp</code> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__weight__tuner_8h_source.html#l00088">88</a> of file <a class="el" href="simple__weight__tuner_8h_source.html">simple_weight_tuner.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aef7f74d86afb9c71153e95ed35435e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7f74d86afb9c71153e95ed35435e6e">&#9670;&nbsp;</a></span>SimpleWeightTuner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimpleWeightTuner.html">SimpleWeightTuner</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCARLsim.html">CARLsim</a> *&#160;</td>
          <td class="paramname"><em>sim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>errorMargin</em> = <code>1e-3</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxIter</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stepSizeFraction</em> = <code>0.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method creates a new instance of class <a class="el" href="classSimpleWeightTuner.html" title="Class SimpleWeightTuner.">SimpleWeightTuner</a>. A <a class="el" href="classSimpleWeightTuner.html" title="Class SimpleWeightTuner.">SimpleWeightTuner</a> can be used to tune weights on the fly; that is, without having to recompile and build a network. This is useful especially for tuning feedforward weights in large-scale networks that would otherwise take a long time to repeatedly build. For tuning in more complex situations please refer to ECJ (Parameter Tuning Interface).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sim</td><td>pointer to <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">errorMargin</td><td>termination condition for error margin on target firing rate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxIter</td><td>termination condition for max number of iterations </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stepSizeFraction</td><td>step size for increasing/decreasing weights per iteration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="ch10_ecj.html">Chapter 10: ECJ</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__weight__tuner_8cpp_source.html#l00300">300</a> of file <a class="el" href="simple__weight__tuner_8cpp_source.html">simple_weight_tuner.cpp</a>.</p>

</div>
</div>
<a id="a9c26d2ccc1a3d4d2ccf82001b913e9bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c26d2ccc1a3d4d2ccf82001b913e9bc">&#9670;&nbsp;</a></span>~SimpleWeightTuner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classSimpleWeightTuner.html">SimpleWeightTuner</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cleans up all objects related to <a class="el" href="classSimpleWeightTuner.html" title="Class SimpleWeightTuner.">SimpleWeightTuner</a>. </p><dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__weight__tuner_8cpp_source.html#l00302">302</a> of file <a class="el" href="simple__weight__tuner_8cpp_source.html">simple_weight_tuner.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ade73a38ce8a5e65b1b16989a265e3d9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade73a38ce8a5e65b1b16989a265e3d9f">&#9670;&nbsp;</a></span>done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool done </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printMessage</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method checks whether a termination criterion has been met, in which case <code>true</code> is returned.</p>
<p>The algorithm will terminate if any of the following criteria have been met:</p><ul>
<li>The firing rate is close enough to the target: &lsquo;currentFiring - targetFiring &lt; errorMargin&rsquo;</li>
<li>The maximum number of iteration step has been reached: <code>numberOfIter &gt; maxIter</code></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printMessage</td><td>flag whether to print message upon termination </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__weight__tuner_8cpp_source.html#l00311">311</a> of file <a class="el" href="simple__weight__tuner_8cpp_source.html">simple_weight_tuner.cpp</a>.</p>

</div>
</div>
<a id="a0df985e3ff7a27edc1e2e3fcc8261843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df985e3ff7a27edc1e2e3fcc8261843">&#9670;&nbsp;</a></span>iterate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iterate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>runDurationMs</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>printStatus</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method runs the <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> network for a time period of <code>runDurationMs</code> milliseconds, throughout which a <a class="el" href="classSpikeMonitor.html" title="Class SpikeMonitor.">SpikeMonitor</a> is recording the firing rate of the group ID specified in setTargetFiringRate.</p>
<p>At the end of the iteration step the recorded firing rate is compared to the target firing rate, and the relative error is computed. If the error is smaller than the specified error margin, the algorithm terminates. If the maximum number of iteration steps is reached, the algorithm terminates. Otherwise the weights of the connection ID specified in <a class="el" href="classSimpleWeightTuner.html#a38404b885b5978e42b10f309a2e23c94" title="Sets up the connection to tune.">setConnectionToTune()</a> are updated, and the next iteration step is ready to be performed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">runDurationMs</td><td>time to run the <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> network (ms) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">printStatus</td><td>whether to print stats at the end of the iteration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classCARLsim.html#aafb2d44405c96aafe089f96ff867018d" title="run the simulation for time=(nSec*seconds + nMsec*milliseconds)">CARLsim::runNetwork</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__weight__tuner_8cpp_source.html#l00310">310</a> of file <a class="el" href="simple__weight__tuner_8cpp_source.html">simple_weight_tuner.cpp</a>.</p>

</div>
</div>
<a id="ad20897c5c8bd47f5d4005989bead0e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20897c5c8bd47f5d4005989bead0e55">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method resets the algorithm to the initial conditions. It is implicitly called at the beginning and whenever setTargetFiringRate or setConnectionToTune has been called. </p><dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__weight__tuner_8cpp_source.html#l00312">312</a> of file <a class="el" href="simple__weight__tuner_8cpp_source.html">simple_weight_tuner.cpp</a>.</p>

</div>
</div>
<a id="a38404b885b5978e42b10f309a2e23c94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38404b885b5978e42b10f309a2e23c94">&#9670;&nbsp;</a></span>setConnectionToTune()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setConnectionToTune </td>
          <td>(</td>
          <td class="paramtype">short int&#160;</td>
          <td class="paramname"><em>connId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>initWt</em> = <code>-1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>adjustRange</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method sets up the connection ID to tune. The algorithm will repeatedely change the synaptic weights of this connection until the firing rate of a group (speficied via setTargetFiringRate) matches a certain target firing rate (specified in <a class="el" href="classSimpleWeightTuner.html" title="Class SimpleWeightTuner.">SimpleWeightTuner</a>).</p>
<p>If the initial weight is set to a negative value, the algorithm will start with whatever weights have been specified when setting up the connection in <a class="el" href="classCARLsim.html#a30b16b93d57551dcde0559e8a4e98e27" title="Connects a presynaptic to a postsynaptic group using fixed/plastic weights and a range of delay value...">CARLsim::connect</a>. Otherwise a bias will be applied to all weights such that <code>initWt</code> matches the field <code>initWt</code> of the connection's <a class="el" href="structRangeWeight.html" title="a range struct for synaptic weight magnitudes">RangeWeight</a> struct.</p>
<p>If adjustRange is set to true, the [minWt,maxWt] ranges will be adjusted automatically should the weight go out of bounds. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classCARLsim.html#a30b16b93d57551dcde0559e8a4e98e27" title="Connects a presynaptic to a postsynaptic group using fixed/plastic weights and a range of delay value...">CARLsim::connect</a> </dd>
<dd>
<a class="el" href="structRangeWeight.html" title="a range struct for synaptic weight magnitudes">RangeWeight</a> </dd>
<dd>
<a class="el" href="classCARLsim.html#a075514437469255e73d058ce7a31092b" title="Adds a constant bias to the weight of every synapse in the connection.">CARLsim::biasWeights</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__weight__tuner_8cpp_source.html#l00304">304</a> of file <a class="el" href="simple__weight__tuner_8cpp_source.html">simple_weight_tuner.cpp</a>.</p>

</div>
</div>
<a id="ac1c93ba1766ad5ada73dea7ba499d541"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1c93ba1766ad5ada73dea7ba499d541">&#9670;&nbsp;</a></span>setTargetFiringRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTargetFiringRate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>grpId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>targetRate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method sets up the target firing rate (Hz) of a specific group to achieve via changing the weights of the connection specified in setConnectionToTune.</p>
<p>A <a class="el" href="classSpikeMonitor.html" title="Class SpikeMonitor.">SpikeMonitor</a> will be set up for the group if it does not already exist. <a class="el" href="classSpikeMonitor.html#ae62d623e8edfc6b05309256c1d825bbd" title="Returns the mean firing rate of the entire neuronal population.">SpikeMonitor::getPopMeanFiringRate</a> will be used to determine the group's firing activity, and compare it to <code>targetRate</code> in order to compute the error margin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">grpId</td><td>the group ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetRate</td><td>target firing rate (Hz) of the group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>If a <a class="el" href="classSpikeMonitor.html" title="Class SpikeMonitor.">SpikeMonitor</a> already exists for this group, <a class="el" href="classSimpleWeightTuner.html" title="Class SimpleWeightTuner.">SimpleWeightTuner</a> will use the same one and turn PersistentMode off. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classSpikeMonitor.html" title="Class SpikeMonitor.">SpikeMonitor</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="simple__weight__tuner_8cpp_source.html#l00307">307</a> of file <a class="el" href="simple__weight__tuner_8cpp_source.html">simple_weight_tuner.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="simple__weight__tuner_8h_source.html">simple_weight_tuner.h</a></li>
<li><a class="el" href="simple__weight__tuner_8cpp_source.html">simple_weight_tuner.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclassCARLsim_html_a0bf4d12b0b90740faf9a2f6a4add0351"><div class="ttname"><a href="classCARLsim.html#a0bf4d12b0b90740faf9a2f6a4add0351">CARLsim::createSpikeGeneratorGroup</a></div><div class="ttdeci">int createSpikeGeneratorGroup(const std::string &amp;grpName, int nNeur, int neurType, int preferredPartition=ANY, ComputingBackend preferredBackend=CPU_CORES)</div><div class="ttdoc">creates a spike generator group</div><div class="ttdef"><b>Definition:</b> <a href="carlsim_8cpp_source.html#l01779">carlsim.cpp:1779</a></div></div>
<div class="ttc" id="aclassSimpleWeightTuner_html"><div class="ttname"><a href="classSimpleWeightTuner.html">SimpleWeightTuner</a></div><div class="ttdoc">Class SimpleWeightTuner.</div><div class="ttdef"><b>Definition:</b> <a href="simple__weight__tuner_8h_source.html#l00088">simple_weight_tuner.h:88</a></div></div>
<div class="ttc" id="astructRangeWeight_html"><div class="ttname"><a href="structRangeWeight.html">RangeWeight</a></div><div class="ttdoc">a range struct for synaptic weight magnitudes</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00311">carlsim_datastructures.h:311</a></div></div>
<div class="ttc" id="acarlsim__definitions_8h_html_a71b1b059a7ff0783d39e22b9b1028d90"><div class="ttname"><a href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a></div><div class="ttdeci">#define EXCITATORY_NEURON</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__definitions_8h_source.html#l00077">carlsim_definitions.h:76</a></div></div>
<div class="ttc" id="aclassCARLsim_html_a6d6c298c788eeb7b18a19d82a77761b3"><div class="ttname"><a href="classCARLsim.html#a6d6c298c788eeb7b18a19d82a77761b3">CARLsim::setupNetwork</a></div><div class="ttdeci">void setupNetwork()</div><div class="ttdoc">build the network</div><div class="ttdef"><b>Definition:</b> <a href="carlsim_8cpp_source.html#l01914">carlsim.cpp:1914</a></div></div>
<div class="ttc" id="astructRangeDelay_html"><div class="ttname"><a href="structRangeDelay.html">RangeDelay</a></div><div class="ttdoc">a range struct for synaptic delays</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00278">carlsim_datastructures.h:278</a></div></div>
<div class="ttc" id="aclassCARLsim_html_aa6e1dc5ae50722ae3d693f2c963d84cd"><div class="ttname"><a href="classCARLsim.html#aa6e1dc5ae50722ae3d693f2c963d84cd">CARLsim::setNeuronParameters</a></div><div class="ttdeci">void setNeuronParameters(int grpId, float izh_a, float izh_a_sd, float izh_b, float izh_b_sd, float izh_c, float izh_c_sd, float izh_d, float izh_d_sd)</div><div class="ttdoc">Sets Izhikevich params a, b, c, and d with as mean +- standard deviation.</div><div class="ttdef"><b>Definition:</b> <a href="carlsim_8cpp_source.html#l01815">carlsim.cpp:1815</a></div></div>
<div class="ttc" id="aclassCARLsim_html_a30b16b93d57551dcde0559e8a4e98e27"><div class="ttname"><a href="classCARLsim.html#a30b16b93d57551dcde0559e8a4e98e27">CARLsim::connect</a></div><div class="ttdeci">short int connect(int grpId1, int grpId2, const std::string &amp;connType, const RangeWeight &amp;wt, float connProb, const RangeDelay &amp;delay=RangeDelay(1), const RadiusRF &amp;radRF=RadiusRF(-1.0), bool synWtType=SYN_FIXED, float mulSynFast=1.0f, float mulSynSlow=1.0f)</div><div class="ttdoc">Connects a presynaptic to a postsynaptic group using fixed/plastic weights and a range of delay value...</div><div class="ttdef"><b>Definition:</b> <a href="carlsim_8cpp_source.html#l01739">carlsim.cpp:1739</a></div></div>
<div class="ttc" id="aclassCARLsim_html_a6e11c10b6b079715074d857452c42e11"><div class="ttname"><a href="classCARLsim.html#a6e11c10b6b079715074d857452c42e11">CARLsim::createGroup</a></div><div class="ttdeci">int createGroup(const std::string &amp;grpName, int nNeur, int neurType, int preferredPartition=ANY, ComputingBackend preferredBackend=CPU_CORES)</div><div class="ttdoc">creates a group of Izhikevich spiking neurons</div><div class="ttdef"><b>Definition:</b> <a href="carlsim_8cpp_source.html#l01763">carlsim.cpp:1763</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classSimpleWeightTuner.html">SimpleWeightTuner</a></li>
    <li class="footer">Generated on Sat Jul 11 2020 19:24:13 for CARLsim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
