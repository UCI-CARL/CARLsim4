<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CARLsim: Chapter 5: Synaptic Plasticity</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="CARLsimStyles.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CARLsim
   &#160;<span id="projectnumber">4.1.0</span>
   </div>
   <div id="projectbrief">CARLsim: a GPU-accelerated SNN simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ch5_synaptic_plasticity.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Chapter 5: Synaptic Plasticity </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ch5s1_short_term_plasticity">5.1 Short-Term Plasticity (STP)</a><ul><li class="level2"><a href="#ch5s1s1_model">5.1.1 Phenomenological Model of STP</a></li>
<li class="level2"><a href="#ch5s1s2_usage_example">5.1.2 STP Usage Example</a></li>
</ul>
</li>
<li class="level1"><a href="#ch5s2_spike_timing_dependent_plasticity">5.2 Spike-Timing Dependent Plasticity (STDP)</a><ul><li class="level2"><a href="#ch5s2s1_phenemological_model">5.2.1 Phenomenological Model of STDP</a></li>
<li class="level2"><a href="#ch5s2s2_stdp_types">5.2.2 Excitatory STDP (E-STDP) and Inhibitory STDP (I-STDP)</a></li>
<li class="level2"><a href="#ch5s2s3_da_stdp">5.2.3 Dopamine-Modulated STDP (DA-STDP)</a></li>
<li class="level2"><a href="#ch5s2s4_usage_example">5.2.4 STDP Usage Example</a></li>
</ul>
</li>
<li class="level1"><a href="#ch5s3_homeostasis">5.3 Homeostasis</a><ul><li class="level2"><a href="#ch5s3s1_phenomenological_model">5.3.1 Homeostasis Phenomenological Model</a></li>
<li class="level2"><a href="#ch5s3s2_usage_example">5.3.1 Homeostasis Usage Example</a></li>
</ul>
</li>
<li class="level1"><a href="#ch5s4_testing_phase">5.4 Disabling Plasticity in a Testing Phase</a></li>
<li class="level1"><a href="#ch5s5_references">5.5 References</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ch5s1_short_term_plasticity"></a>
5.1 Short-Term Plasticity (STP)</h1>
<dl class="section author"><dt>Author</dt><dd>Michael Beyeler</dd></dl>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> provides standard equations for short-term plasticity (STP) (also called dynamical synapses). STP is a synaptic plasticity rule that acts on a time scale on the order of 100ms, and contributes to short-term facilitation (STF) or short-term depression (STD) based on pre-synaptic activity. STD is caused by depletion of neurotransmitters consumed during the synaptic signaling process at the axon terminal of a pre-synaptic neuron, whereas STF is caused by influx of calcium into the axon terminal after spike generation, which increases the release probability of neurotransmitters (Senn, Tsodyks, &amp; Markram, 2001; Mongillo, Barak, &amp; Tsodyks, 2008).</p>
<h2><a class="anchor" id="ch5s1s1_model"></a>
5.1.1 Phenomenological Model of STP</h2>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> implements the phenomenological STP model of (Senn, Tsodyks, &amp; Markram, 2001; Mongillo, Barak, &amp; Tsodyks, 2008): </p><p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray} \frac{du}{dt} &amp; = &amp; \frac{-u}{STP\_tau\_u} + STP\_U (1-u^-) \delta(t-t_{spk}) \\ \frac{dx}{dt} &amp; = &amp; \frac{1-x}{STP\_tau\_x} - u^+ x^- \delta(t-t_{spk}) \\ \frac{dI}{dt} &amp; = &amp; \frac{-I}{\tau_S} + A u^+ x- \delta(t-t_{spk}) \end{eqnarray}" src="form_0.png" width="457" height="117"/>
</p>
<p> where u- means value of variable u right before spike update, and x+ means value of variable x right after the spike update, and A is the synaptic weight. The STD effect is modeled by a normalized variable (0&lt;=x&lt;=1), denoting the fraction of resources that remain available after neurotransmitter depletion. The STF effect is modeled by a utilization parameter u, representing the fraction of available resources ready for use (release probability). Following a spike, (i) u increases due to spike-induced calcium influx to the presynaptic terminal, after which (ii) a fraction u of available resources is consumed to produce the post-synaptic current. Between spikes, u decays back to zero with time constant <code>STP_tau_u</code> (tau_F), and x recovers to value one with time constant <code>STP_tau_x</code> (tau_D).</p>
<p>In <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a>, the scaling factor <code>A</code> in (3) is automatically adjusted to the inverse of <code>STP_U</code>. The resulting effect is that the first spike under STP generates the same post-synaptic current as if STP were disabled on that synapse (governed by the synaptic weight set in <a class="el" href="classCARLsim.html#a30b16b93d57551dcde0559e8a4e98e27" title="Connects a presynaptic to a postsynaptic group using fixed/plastic weights and a range of delay value...">CARLsim::connect</a>). From there on forward the post-synaptic current will either increase (STF) or decrease (STD).</p>
<div class="image">
<img src="5_stp.jpg" alt=""/>
<div class="caption">
Fig. 1. Traces of generated post-synaptic currents for STD and STF (generated with CARLsim 3).</div></div>
<p>Source Tsodyks and Wu, 2013.</p>
<h2><a class="anchor" id="ch5s1s2_usage_example"></a>
5.1.2 STP Usage Example</h2>
<p>In order to make use of STP in a simulation, STP must be enabled for a group (pre-synaptically): </p><div class="fragment"><div class="line">sim.setSTP(g0, <span class="keyword">true</span>); <span class="comment">// grpId, isSet</span></div>
</div><!-- fragment --><p>This will enable STP on all outgoing synapses on all neurons in the group <code>g0</code>. STP parameters will be set to default value (according to the above citation). These default values can be overridden manually by using <a class="el" href="classCARLsim.html#abb10cfa3d0f3a246442e1187ecb837ae" title="Sets default values for STP params U, tau_u, and tau_x of a neuron group (pre-synaptically)">CARLsim::setDefaultSTPparams</a>.</p>
<p>Alternatively, values for the STP parameters can be specified explicitly: </p><div class="fragment"><div class="line">sim.setSTP(g0, <span class="keyword">true</span>, 0.45f, 50.0f, 750.0f); <span class="comment">// grpId, isSet, STP_U, STP_tau_u, STP_tau_x</span></div>
</div><!-- fragment --><p>This will enable STP for group <code>g0</code>, set the increment of u induced by a spike to <code>STP_U=0.45f</code>, set the decay constant of <code>u</code> to <code>STP_tau_u=50.0f</code> ms (also called tau_F), and set the decay constant of <code>x</code> to <code>STP_tau_x=750.0f</code> ms (also called tau_D).</p>
<p>By default, STP is disabled on all groups from the outset.</p>
<dl class="section note"><dt>Note</dt><dd>STP will be applied to all outgoing synapses of all neurons in a (pre-synaptic) group. </dd>
<dd>
All outgoing synapses of a certain (pre-synaptic) neuron share the resources of that same neuron. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classCARLsim.html#aa2a365fb2d2fa56ec274bc4ba7be6747" title="Sets STP params U, tau_u, and tau_x of a neuron group (pre-synaptically) using default values.">CARLsim::setSTP(int, bool)</a> </dd>
<dd>
<a class="el" href="classCARLsim.html#a54170c96807d6cdf699fa3664f81505e" title="Sets STP params U, tau_u, and tau_x of a neuron group (pre-synaptically)">CARLsim::setSTP(int, bool, float, float, float)</a> </dd>
<dd>
<a class="el" href="classCARLsim.html#abb10cfa3d0f3a246442e1187ecb837ae" title="Sets default values for STP params U, tau_u, and tau_x of a neuron group (pre-synaptically)">CARLsim::setDefaultSTPparams</a></dd></dl>
<h1><a class="anchor" id="ch5s2_spike_timing_dependent_plasticity"></a>
5.2 Spike-Timing Dependent Plasticity (STDP)</h1>
<dl class="section author"><dt>Author</dt><dd>Kristofor D. Carlson </dd>
<dd>
Ting-Shuo Chou</dd></dl>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> supports a popular spike-based learning phenomenon called spike-timing dependent plasticity (STDP). STDP is an important form of Hebbian learning where the precise timing of the pre and postsynaptic spike times influence synaptic weight changes. STDP is important because it operates on correlations between spikes and suggests a potential causal (or anti-causal) relationship between pre and postsynaptic spikes (Sjöström and Gerstner, 2010).</p>
<p>The prototypical form of STDP acts as follows: spike-timings where the presynaptic spike arrival precedes postsynaptic spikes by a few milliseconds results in an increase in the synaptic weight, also referred to as long-term potentiation (LTP). Spike-timings where the presynaptic spike arrival follows postsynaptic spikes by a few milliseconds result in a decrease in the synaptic weight. (Bi and Poo, 1998). STDP of this type was observed at glutamatergic (excitatory) synapses.</p>
<h2><a class="anchor" id="ch5s2s1_phenemological_model"></a>
5.2.1 Phenomenological Model of STDP</h2>
<p>Fig. 2 shows a variety of 'STDP Curves' possible using <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a>. In each sub-figure, the horizontal axis represents the time difference between the time of the presynaptic spike arrival and the time of the postsynaptic arrival or <img class="formulaInl" alt="$ \Delta t = t_{post} - t_{pre} $" src="form_69.png" width="117" height="18"/>. Therefore, <img class="formulaInl" alt="$ \Delta t $" src="form_70.png" width="20" height="13"/>'s to the left of the vertical axis are <img class="formulaInl" alt="$ \Delta t &lt; 0 $" src="form_71.png" width="49" height="15"/> (pre-after-post) while <img class="formulaInl" alt="$ \Delta t $" src="form_70.png" width="20" height="13"/>'s to the right of the vertical axis are <img class="formulaInl" alt="$ \Delta t&gt;0 $" src="form_72.png" width="49" height="15"/> (pre-before-post). The vertical axis represents the weight change of the synaptic weight magnitude ( <img class="formulaInl" alt="$ \Delta \vert w \vert $" src="form_73.png" width="33" height="18"/>) at that synapse.</p>
<div class="image">
<img src="5_stdp_curves.png" alt=""/>
<div class="caption">
Fig. 2. Examples of possible STDP curves possible in CARLsim. Green curves can be applied to glutamatergic synapses, whereas red curves can be applied to GABAergic (inhibitory) synapses.STDP (2(a)-2(d)) and (2(f)-2(i)). are referred to as STDP type ExpCurve as they consist of two decaying exponentials. 2(e) is referred to as STDP type PulseCurve 2(j). is referred as STDP type TimingBasedCurve.</div></div>
<p>Source: Beyeler, et al. 2015.</p>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> has 3 types of STDP: <a class="el" href="structExpCurve.html" title="A struct to assign exponential STDP curves.">ExpCurve</a>, <a class="el" href="structPulseCurve.html" title="struct to assign a pulse I-STDP curve">PulseCurve</a>, and <a class="el" href="structTimingBasedCurve.html" title="A struct to assign a timing-based E-STDP curve.">TimingBasedCurve</a>. The phenomenological model for STDP of type <a class="el" href="structExpCurve.html" title="A struct to assign exponential STDP curves.">ExpCurve</a> found in 2(a-d) and 2(f-i) is as follows.If <img class="formulaInl" alt="$ \Delta t &gt; 0 $" src="form_74.png" width="49" height="15"/>, then <img class="formulaInl" alt="$ \Delta w = A_{+} \exp(-\Delta t/\tau_{+}) $" src="form_75.png" width="167" height="18"/> else if <img class="formulaInl" alt="$ \Delta t &lt;= 0 $" src="form_76.png" width="62" height="15"/>, then <img class="formulaInl" alt="$ \Delta w = A_{-} \exp(-\Delta t/\tau_{-}) $" src="form_77.png" width="167" height="18"/>. The TimeBasedCurve STDP type shown in 2(e) and the <a class="el" href="structPulseCurve.html" title="struct to assign a pulse I-STDP curve">PulseCurve</a> STDP type have a similar mathematical structure.</p>
<p>Users can select the specific version of STDP <a class="el" href="structExpCurve.html" title="A struct to assign exponential STDP curves.">ExpCurve</a> by choosing the <img class="formulaInl" alt="$ A_{+}$" src="form_78.png" width="23" height="18"/> and <img class="formulaInl" alt="$ A_{-}$" src="form_79.png" width="23" height="13"/> parameters appropriately as these parameters are allowed to take both positive and negative values. Users also select the <img class="formulaInl" alt="$ \tau_{+} $" src="form_80.png" width="18" height="13"/> and <img class="formulaInl" alt="$\tau_{-}$" src="form_81.png" width="18" height="8"/> exponential decay parameters. Configuration of the <a class="el" href="structPulseCurve.html" title="struct to assign a pulse I-STDP curve">PulseCurve</a> and <a class="el" href="structTimingBasedCurve.html" title="A struct to assign a timing-based E-STDP curve.">TimingBasedCurve</a> is similar only it should be noted that none of the parameter values may be negative.</p>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> calculates the change in weight in two components, the pre-before-post component and the pre-after-post component. The change in weights is calculate with the following equation:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{dw_{i,j}}{dt} = \delta + \beta(\mbox{pre-before-post}_{i,j} + \mbox{pre-after-post}_{i,j}) \]" src="form_82.png" width="362" height="36"/>
</p>
<p>where <img class="formulaInl" alt="$ w_{i,j} $" src="form_83.png" width="26" height="13"/> is the weight from presynaptic neuron <em>i</em>, to postsynaptic neuron <em>j</em>, <img class="formulaInl" alt="$ \delta $" src="form_84.png" width="8" height="13"/> is a bias with a default value of 0, and <img class="formulaInl" alt="$ \beta $" src="form_85.png" width="11" height="16"/> is the learning rate with a default value of 1. Additionally, <img class="formulaInl" alt="$ \mbox{pre-before-post}_{i,j} $" src="form_86.png" width="122" height="20"/> is the pre-before-post weight change contribution and <img class="formulaInl" alt="$ \mbox{pre-after-post}_{i,j} $" src="form_87.png" width="112" height="20"/> is the pre-after-post weight change contribution.</p>
<p>It is important to note that <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> uses nearest neighbor STDP (Morrison et al. 2008) where each presynaptic spike is paired with the last postsynaptic spike and each postsynaptic spike is paired with the last presynaptic spike to calculate the final weight change due to STDP.</p>
<div class="image">
<img src="5_stdp_types.jpg" alt=""/>
<div class="caption">
Fig. 3. The types of STDP</div></div>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> characterizes STDP type by both STDP weight change curve (as shown in Fig. 2) and by type of synaptic connection (e.g. excitatory or inhibitory). As mentioned in previous chapters, excitatory synapses bring the postsynaptic neuron closer to its firing threshold while inhibitory synapses bring the postsynaptic neuron away from its firing threshold. The combination of STDP weight change curve and synapse type have functional implications for the neural circuit being constructed. E-STDP is defined as STDP on a connection where the presynaptic neuron groups are excitatory in nature. This is true for E to E and E to I connections. I-STDP is defined as STDP on a connection where the presynaptic neuron groups are inhibitory in nature. Fig. 3 shows illustrates how E-STDP and I-STDP are defined.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> keeps track of the weight change every ms, but updates the weights every second by default. The update frequency of the weights can be changed with the <a class="el" href="classCARLsim.html#abee8ce393443c7bcf296a0014b6ff4c9" title="Sets the weight and weight change update parameters.">CARLsim::setWeightAndWeightChangeUpdate</a> function.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>A common user error is trying to allow for STDP on connections that are fixed, instead of plastic.</dd></dl>
<h2><a class="anchor" id="ch5s2s2_stdp_types"></a>
5.2.2 Excitatory STDP (E-STDP) and Inhibitory STDP (I-STDP)</h2>
<p>The possible types of E-STDP curves are shown in the top row of Fig. 2. The presynaptic group determines the identity of the STDP type (E-STDP or I-STDP). Currently <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> supports one set of unique STDP parameters for per STDP type. Therefore, in Fig. 3, the I to E and E to E plastic connections to the exctiatory neuron on the left could have completely different STDP curves (shown in Fig. 2). However, if a third connection were added, like another E to E connection, then STDP parameter values for that E to E connection must be identical to that of the other E to E connection. Users are responsible for choosing realistic STDP parameters all there are reasonable default parameters supplied by <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a>.</p>
<dl class="section since"><dt>Since</dt><dd>v3.0</dd></dl>
<h2><a class="anchor" id="ch5s2s3_da_stdp"></a>
5.2.3 Dopamine-Modulated STDP (DA-STDP)</h2>
<p>The <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> dopamine-modulated STDP implementation allows users to easily implement reinforcement learning applications. Dopamine acts as a training signal in the sense that STDP only takes place in the presence of elevated dopamine concentrations. Below is a code snippet that implements dopamine-modulated STDP.</p>
<div class="fragment"><div class="line"><span class="comment">// create groups</span></div>
<div class="line"><span class="keywordtype">int</span> gDA = sim.createSpikeGeneratorGroup(<span class="stringliteral">&quot;DA input&quot;</span>, 100,</div>
<div class="line"><a class="code" href="carlsim__definitions_8h.html#aa34dd70afe719159cbec710fc701373b">DOPAMINERGIC_NEURON</a>);</div>
<div class="line"><span class="keywordtype">int</span> gRS = Sim.createGroup(“RS”, 10, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);</div>
<div class="line">Sim.setNeuronParameters(gRS, 0.02f, 0.2f, -65.0f, 8.0f);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// “all-to-all” connectivity with plastic synapses</span></div>
<div class="line"><span class="comment">// weights initialized to 0.01f, range is [0.0f, 0.1f]</span></div>
<div class="line"><span class="comment">// receptive field struct is ignored</span></div>
<div class="line">Sim.connect(gDA, gRS, “full”,</div>
<div class="line"><a class="code" href="structRangeWeight.html">RangeWeight</a>(0.0f, 0.01f, 0.1f), 1.0f,</div>
<div class="line"><a class="code" href="structRangeDelay.html">RangeDelay</a>(1,10), <a class="code" href="structRadiusRF.html">RadiusRF</a>(-1), <a class="code" href="carlsim__definitions_8h.html#a9baa3423c83e97f02e68daccf466ed4d">SYN_PLASTIC</a>);</div>
<div class="line"><span class="comment">// set DA-STDP on all plastic synapses to gRS</span></div>
<div class="line"><span class="comment">// alpha_LTP=0.001f, tau_LTP=20.0f</span></div>
<div class="line"><span class="comment">// alpha_LTD=0.0015f, tau_LTD=20.0f</span></div>
<div class="line">Sim.setSTDP(gRS, <a class="code" href="carlsim__datastructures_8h.html#a6925c3689423e0dfefa99b7eeb642f12a9a3509d2d06e15b55d42c83bd05bb2e5">DA_MOD</a>, 0.001f, 20.0f, 0.0015f, 20.0f);</div>
</div><!-- fragment --><dl class="section since"><dt>Since</dt><dd>v3.0</dd></dl>
<h2><a class="anchor" id="ch5s2s4_usage_example"></a>
5.2.4 STDP Usage Example</h2>
<p>In order for STDP to be used, the connection between two groups must be plastic as indicated by the SYN_PLASTIC keyword:</p>
<div class="fragment"><div class="line">sim.connect(g1,g2,<span class="stringliteral">&quot;one-to-one&quot;</span>,<a class="code" href="structRangeWeight.html">RangeWeight</a>(0.0,1.0f/100, 20.0f/100),1.0f, <a class="code" href="structRangeDelay.html">RangeDelay</a>(1), <a class="code" href="structRadiusRF.html">RadiusRF</a>(-1),<a class="code" href="carlsim__definitions_8h.html#a9baa3423c83e97f02e68daccf466ed4d">SYN_PLASTIC</a>);</div>
</div><!-- fragment --><p>Assuming g1 and g2 are excitatory neurons, we should then set the E-STDP parameters:</p>
<div class="fragment"><div class="line">sim-&gt;setESTDP(g1, <span class="keyword">true</span>, <a class="code" href="carlsim__datastructures_8h.html#a6925c3689423e0dfefa99b7eeb642f12a9de934790934fe831fe946c851e8338e">STANDARD</a>, <a class="code" href="structExpCurve.html">ExpCurve</a>(ALPHA_LTP/100, TAU_LTP, ALPHA_LTD/100, TAU_LTP));</div>
</div><!-- fragment --><p>Notice that the E-STDP call was done on the postsynaptic neuron group (g1) as the first argument. The second argument determines whether or STDP will be enabled and could be set to false as well. The third argument refers to the neuromodulatory effect present at this synapse. STDP without a neuromodulatory influence is referred to by the STANDARD keyword while STDP that is modulated by dopamine is referred to as DA_MOD. Here, we are using the <a class="el" href="structExpCurve.html" title="A struct to assign exponential STDP curves.">ExpCurve</a> STDP curve.</p>
<h1><a class="anchor" id="ch5s3_homeostasis"></a>
5.3 Homeostasis</h1>
<dl class="section author"><dt>Author</dt><dd>Kristofor D. Carlson</dd></dl>
<h2><a class="anchor" id="ch5s3s1_phenomenological_model"></a>
5.3.1 Homeostasis Phenomenological Model</h2>
<p>Homeostatic synaptic scaling has been observed experimentally and may serve to stabilize plasticity mechanisms that can otherwise undergo run-away behaviors. <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> implements a version of homeostatic synaptic scaling that helps stabilize STDP. Additionally, the synaptic plasticity model implemented by <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> is multiplicative in nature, preserving the relative synaptic weight differences between all synapses on a single neuron. Using the same mathematical conventions as in the phenomenological model of STDP discussion, the mathematical model for the synaptic weight update combining both STDP and homeostasis is as follows:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{dw_{i,j}}{dt} = \bigg[ \alpha \cdot w_{i,j} \Big(1-\frac{R_{avg}}{R_{target}} \Big) + \beta \cdot (\mbox{pre-before-post}_{i,j} + \mbox{pre-after-post}_{i,j}) \bigg] \cdot K \]" src="form_88.png" width="559" height="41"/>
</p>
<p>In the equation above, the change in synaptic weight per timestep, <img class="formulaInl" alt="$ \frac{dw_{i,j}}{dt} $" src="form_89.png" width="33" height="24"/> is the sum of a homeostatic term plus an STDP term times a stability factor, <img class="formulaInl" alt="$ K $" src="form_90.png" width="15" height="13"/>. Here <img class="formulaInl" alt="$ \alpha $" src="form_91.png" width="10" height="8"/> is the homeostatic scaling factor, <img class="formulaInl" alt="$ \beta $" src="form_85.png" width="11" height="16"/> is the STDP scaling factor, <img class="formulaInl" alt="$ R_{avg} $" src="form_92.png" width="33" height="18"/>, is the average firing rate of the neuron over a (relatively) long period of time, <img class="formulaInl" alt="$ R_{target} $" src="form_93.png" width="47" height="18"/> is a predetermined target firing rate for the neuron, and <img class="formulaInl" alt="$ K $" src="form_90.png" width="15" height="13"/> is:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ K=\frac{R_{avg}}{T \cdot \Big( 1 + \vert 1- R_{avg}/R_{target} \vert \cdot \gamma \Big) } \]" src="form_94.png" width="258" height="52"/>
</p>
<p>Here, <img class="formulaInl" alt="$ T $" src="form_95.png" width="13" height="11"/> is the time over which the firing rate is being averaged and <img class="formulaInl" alt="$ \gamma $" src="form_96.png" width="11" height="11"/> is a tuning factor.</p>
<dl class="section since"><dt>Since</dt><dd>v2.0</dd></dl>
<h2><a class="anchor" id="ch5s3s2_usage_example"></a>
5.3.1 Homeostasis Usage Example</h2>
<p>Some example code below sets the homeostatic scaling factor <img class="formulaInl" alt="$ \alpha $" src="form_91.png" width="10" height="8"/> and the time constant <img class="formulaInl" alt="$ T $" src="form_95.png" width="13" height="11"/> for grp1. The first argument specifies grp1 as the group to enable homeostasis on. The second argument sets the 'enable homeostatis flag' to be true. The homeostatic scaling factor, <img class="formulaInl" alt="$ \alpha $" src="form_91.png" width="10" height="8"/> and the time constant, <img class="formulaInl" alt="$ T $" src="form_95.png" width="13" height="11"/>, are set in arguments 3 and 4, respectively. Finally, the target firing rate for each neuron in grp1 needs to be set with the setHomeoBaseFiringRate function. The first argument specifies the group for which the target firing rate is being set, the second argument is the value of the target firing rate, and the third argument is the standard deviation of the target firing rate. The third argument can be left blank to indicate a standard deviation of the target firing rate with a value of 0.</p>
<div class="fragment"><div class="line"><span class="keywordtype">float</span> alpha    =         0.1;</div>
<div class="line"><span class="keywordtype">float</span> T        =         10.0;</div>
<div class="line"><span class="keywordtype">float</span> R_target =         10.0;</div>
<div class="line">sim.setHomeostasis(grp1, <span class="keyword">true</span>, alpha, T);</div>
<div class="line">sim.setHomeoBaseFiringRate(grp1, R_target,0);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>When the standard deviation argument is used in <a class="el" href="classCARLsim.html#a4f0d341bb17f0d6e0b3aa8db28ef4513" title="Sets the homeostatic target firing rate (enforced through homeostatic synaptic scaling)">CARLsim::setHomeoBaseFiringRate</a> function, the target firing rate still gets a single value that is constant for the entire simulation.</dd>
<dd>
The STDP scaling term, <img class="formulaInl" alt="$ \beta $" src="form_85.png" width="11" height="16"/>, is always equal to 1 in <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> simulations. Therefore, to make the homeostatic term , <img class="formulaInl" alt="$ \alpha $" src="form_91.png" width="10" height="8"/>, greater than <img class="formulaInl" alt="$ \beta $" src="form_85.png" width="11" height="16"/>, you simply set it to a value greater than 1.</dd>
<dd>
Users new to homeostasis should start with <img class="formulaInl" alt="$ \alpha = 0.1 $" src="form_97.png" width="52" height="11"/> and <img class="formulaInl" alt="$ T = 10.0 $" src="form_98.png" width="63" height="11"/> seconds. This means that STDP component will be 10 times stronger than the homeostatic synaptic scaling component. Setting the time constant for 10.0 seconds is within biologically observed values (Turrigiano, 2008) and a good place to start. In general homeostatic synaptic scaling should take place on a timescale longer than that of a single spike (1 ms). However, be aware that you must run your simulation for long enough to allow for homeostasis to take effect. It's probably a good idea to run your simulation for at least 5 times longer than your time constant, <img class="formulaInl" alt="$ T $" src="form_95.png" width="13" height="11"/>. In general you will probably run your simulations for much longer than this!</dd></dl>
<dl class="section since"><dt>Since</dt><dd>v2.0</dd></dl>
<h1><a class="anchor" id="ch5s4_testing_phase"></a>
5.4 Disabling Plasticity in a Testing Phase</h1>
<dl class="section author"><dt>Author</dt><dd>Michael Beyeler</dd></dl>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> provides a method to temporarily disable all synaptic weight updates, which may be helpful in a testing phase that is trying to evaluate some previously trained network.</p>
<p>The testing phase can be entered via <a class="el" href="classCARLsim.html#abdef62cc54aac9c9e6e4c4e712452d64" title="Enters a testing phase in which all weight changes are disabled.">CARLsim::startTesting</a> and exited via <a class="el" href="classCARLsim.html#aae1c74dcc597646739be4812e5872d71" title="Exits a testing phase, making weight changes possible again.">CARLsim::stopTesting</a>: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="carlsim_8h.html">carlsim.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="classCARLsim.html">CARLsim</a> sim(<span class="stringliteral">&quot;TestingPhase&quot;</span>, <a class="code" href="carlsim__datastructures_8h.html#a625c4eced5cd956404990e73f3950258a729ca642c452f8a7c53df4a48f240537">CPU_MODE</a>, <a class="code" href="carlsim__datastructures_8h.html#a3a04fc42e22f436d2b3809236cb6ec54ae2d30a195cee6b2961cc2c23ea4b520b">USER</a>, 0, 42);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ---------------- CONFIG STATE -------------------</span></div>
<div class="line"><span class="keywordtype">int</span> gExc = sim.createGroup(<span class="stringliteral">&quot;output&quot;</span>, 1, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);</div>
<div class="line">sim.setNeuronParameters(gExc, 0.02f, 0.2f, -65.0f, 8.0f); <span class="comment">// RS</span></div>
<div class="line"><span class="keywordtype">int</span> gIn = sim.createSpikeGeneratorGroup(<span class="stringliteral">&quot;input&quot;</span>, 10, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> cInExc  = sim.connect(gIn, gExc, <span class="stringliteral">&quot;full&quot;</span>, <a class="code" href="structRangeWeight.html">RangeWeight</a>(0.0f, 0.5f, 0.5f), 1.0f, <a class="code" href="structRangeDelay.html">RangeDelay</a>(1), <a class="code" href="structRadiusRF.html">RadiusRF</a>(-1), <a class="code" href="carlsim__definitions_8h.html#a9baa3423c83e97f02e68daccf466ed4d">SYN_PLASTIC</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// set E-STDP to be STANDARD (without neuromodulatory influence) with an EXP_CURVE type.</span></div>
<div class="line">sim.setESTDP(gExc, <span class="keyword">true</span>, <a class="code" href="carlsim__datastructures_8h.html#a6925c3689423e0dfefa99b7eeb642f12a9de934790934fe831fe946c851e8338e">STANDARD</a>, <a class="code" href="structExpCurve.html">ExpCurve</a>(2e-4f,20.0f, -6.6e-5f,60.0f));</div>
<div class="line">sim.setHomeostasis(gExc, <span class="keyword">true</span>, 1.0f, 10.0f);  <span class="comment">// homeo scaling factor, avg time scale</span></div>
<div class="line">sim.setHomeoBaseFiringRate(gExc, 35.0f, 0.0f); <span class="comment">// target firing, target firing st.d.</span></div>
<div class="line"> </div>
<div class="line">sim.setConductances(<span class="keyword">true</span>);</div>
<div class="line">sim.setupNetwork();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ---------------- SETUP STATE -------------------</span></div>
<div class="line"><a class="code" href="classConnectionMonitor.html">ConnectionMonitor</a>* CM = sim.setConnectionMonitor(gIn, gExc, <span class="stringliteral">&quot;NULL&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// set up some input firing</span></div>
<div class="line"><a class="code" href="classPoissonRate.html">PoissonRate</a> PR(10);</div>
<div class="line">PR.setRates(50.0f);</div>
<div class="line">sim.setSpikeRate(gIn, &amp;PR);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ---------------- RUN STATE -------------------</span></div>
<div class="line"><span class="comment">// training: expect weight changes due to STDP</span></div>
<div class="line">sim.runNetwork(1,0);</div>
<div class="line">printf(<span class="stringliteral">&quot;Training Phase: Weight change = %f\n&quot;</span>, CM-&gt;<a class="code" href="classConnectionMonitor.html#a991b87f83f8f3a210ab97c6090eeaad9">getTotalAbsWeightChange</a>());</div>
<div class="line"> </div>
<div class="line"><span class="comment">// testing: expect no weight changes</span></div>
<div class="line">sim.startTesting();</div>
<div class="line">sim.runNetwork(10,0);</div>
<div class="line">printf(<span class="stringliteral">&quot;Testing Phase: Weight change = %f\n&quot;</span>, CM-&gt;<a class="code" href="classConnectionMonitor.html#a991b87f83f8f3a210ab97c6090eeaad9">getTotalAbsWeightChange</a>());</div>
<div class="line"> </div>
<div class="line"><span class="comment">// continue training...</span></div>
<div class="line">sim.stopTesting();</div>
<div class="line"><span class="comment">// etc.</span></div>
</div><!-- fragment --><dl class="section since"><dt>Since</dt><dd>v3.1</dd></dl>
<h1><a class="anchor" id="ch5s5_references"></a>
5.5 References</h1>
<dl class="section author"><dt>Author</dt><dd>Kristofor D. Carlson</dd></dl>
<p>Beyeler, M., Carlson, K. D., Chou, T. S., Dutt, N., Krichmar, J. L., <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> 3: A user-friendly and highly optimized library for the creation of neurobiologically detailed spiking neural networks. (Submitted)</p>
<p>Bi, G. Q. and Poo, M. M. (1998). Synaptic modifications in cultured Hippocampal neurons: dependence on spike timing, synaptic strength, and postsynaptic cell type. J Neurosci, 18:10464-72.</p>
<p>Bi, G. Q. and Poo, M. M. (2001). Synaptic modification of correlated activity: Hebb's postulate revisited. Ann. Rev. Neurosci., 24:139-166.</p>
<p>Mongillo, G, Barak, O., and Tsodyks, M. (2008) Synaptic theory of working memory. Science., 319 (5869): 1543-1546.</p>
<p>Morrison, A., Markus D., and Gerstner, W. (2008). Phenomenological models of synaptic plasticity based on spike timing. Biological Cybernetics 98: 459-478.</p>
<p>Senn, W., Markram, H., and Tsodyks, M. (2001). An algorithm for modifying neurotransmitter release probability based on pre- and post-synaptic spike timing. Neural Comput, 13:35-67.</p>
<p>Sjöström, J. and Gerstner, W. (2010) Spike-timing dependent plasticity. Scholarpedia, 5 (2):1362., revision #142314</p>
<p>Tsodyks, M. and Wu, S. (2013) Short-term synaptic plasticity. Scholarpedia, 8(10):3153., rev #136920</p>
<p>Turrigiano, G., G., (2008) The self-tuning neuron: synaptic scaling of excitatory synapses. Cell 135: 422-435. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="acarlsim__definitions_8h_html_aa34dd70afe719159cbec710fc701373b"><div class="ttname"><a href="carlsim__definitions_8h.html#aa34dd70afe719159cbec710fc701373b">DOPAMINERGIC_NEURON</a></div><div class="ttdeci">#define DOPAMINERGIC_NEURON</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__definitions_8h_source.html#l00078">carlsim_definitions.h:77</a></div></div>
<div class="ttc" id="astructRangeWeight_html"><div class="ttname"><a href="structRangeWeight.html">RangeWeight</a></div><div class="ttdoc">a range struct for synaptic weight magnitudes</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00311">carlsim_datastructures.h:311</a></div></div>
<div class="ttc" id="aclassPoissonRate_html"><div class="ttname"><a href="classPoissonRate.html">PoissonRate</a></div><div class="ttdoc">Class for generating Poisson spike trains.</div><div class="ttdef"><b>Definition:</b> <a href="poisson__rate_8h_source.html#l00084">poisson_rate.h:84</a></div></div>
<div class="ttc" id="acarlsim__definitions_8h_html_a71b1b059a7ff0783d39e22b9b1028d90"><div class="ttname"><a href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a></div><div class="ttdeci">#define EXCITATORY_NEURON</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__definitions_8h_source.html#l00077">carlsim_definitions.h:76</a></div></div>
<div class="ttc" id="acarlsim__datastructures_8h_html_a3a04fc42e22f436d2b3809236cb6ec54ae2d30a195cee6b2961cc2c23ea4b520b"><div class="ttname"><a href="carlsim__datastructures_8h.html#a3a04fc42e22f436d2b3809236cb6ec54ae2d30a195cee6b2961cc2c23ea4b520b">USER</a></div><div class="ttdeci">@ USER</div><div class="ttdoc">User mode, for experiment-oriented simulations.</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00091">carlsim_datastructures.h:91</a></div></div>
<div class="ttc" id="astructRangeDelay_html"><div class="ttname"><a href="structRangeDelay.html">RangeDelay</a></div><div class="ttdoc">a range struct for synaptic delays</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00278">carlsim_datastructures.h:278</a></div></div>
<div class="ttc" id="acarlsim__datastructures_8h_html_a625c4eced5cd956404990e73f3950258a729ca642c452f8a7c53df4a48f240537"><div class="ttname"><a href="carlsim__datastructures_8h.html#a625c4eced5cd956404990e73f3950258a729ca642c452f8a7c53df4a48f240537">CPU_MODE</a></div><div class="ttdeci">@ CPU_MODE</div><div class="ttdoc">model is run on CPU core(s)</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00114">carlsim_datastructures.h:114</a></div></div>
<div class="ttc" id="aclassCARLsim_html"><div class="ttname"><a href="classCARLsim.html">CARLsim</a></div><div class="ttdoc">CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...</div><div class="ttdef"><b>Definition:</b> <a href="carlsim_8h_source.html#l00137">carlsim.h:137</a></div></div>
<div class="ttc" id="astructExpCurve_html"><div class="ttname"><a href="structExpCurve.html">ExpCurve</a></div><div class="ttdoc">A struct to assign exponential STDP curves.</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00570">carlsim_datastructures.h:570</a></div></div>
<div class="ttc" id="acarlsim__datastructures_8h_html_a6925c3689423e0dfefa99b7eeb642f12a9a3509d2d06e15b55d42c83bd05bb2e5"><div class="ttname"><a href="carlsim__datastructures_8h.html#a6925c3689423e0dfefa99b7eeb642f12a9a3509d2d06e15b55d42c83bd05bb2e5">DA_MOD</a></div><div class="ttdeci">@ DA_MOD</div><div class="ttdoc">dopamine-modulated STDP, nearest-neighbor</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00162">carlsim_datastructures.h:162</a></div></div>
<div class="ttc" id="acarlsim__definitions_8h_html_a9baa3423c83e97f02e68daccf466ed4d"><div class="ttname"><a href="carlsim__definitions_8h.html#a9baa3423c83e97f02e68daccf466ed4d">SYN_PLASTIC</a></div><div class="ttdeci">#define SYN_PLASTIC</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__definitions_8h_source.html#l00061">carlsim_definitions.h:60</a></div></div>
<div class="ttc" id="acarlsim_8h_html"><div class="ttname"><a href="carlsim_8h.html">carlsim.h</a></div></div>
<div class="ttc" id="aclassConnectionMonitor_html_a991b87f83f8f3a210ab97c6090eeaad9"><div class="ttname"><a href="classConnectionMonitor.html#a991b87f83f8f3a210ab97c6090eeaad9">ConnectionMonitor::getTotalAbsWeightChange</a></div><div class="ttdeci">double getTotalAbsWeightChange()</div><div class="ttdoc">Returns the absolute sum of all the weight changes since the last snapshot.</div><div class="ttdef"><b>Definition:</b> <a href="connection__monitor_8cpp_source.html#l00149">connection_monitor.cpp:149</a></div></div>
<div class="ttc" id="acarlsim__datastructures_8h_html_a6925c3689423e0dfefa99b7eeb642f12a9de934790934fe831fe946c851e8338e"><div class="ttname"><a href="carlsim__datastructures_8h.html#a6925c3689423e0dfefa99b7eeb642f12a9de934790934fe831fe946c851e8338e">STANDARD</a></div><div class="ttdeci">@ STANDARD</div><div class="ttdoc">standard STDP of Bi &amp; Poo (2001), nearest-neighbor</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00161">carlsim_datastructures.h:161</a></div></div>
<div class="ttc" id="aclassConnectionMonitor_html"><div class="ttname"><a href="classConnectionMonitor.html">ConnectionMonitor</a></div><div class="ttdoc">Class ConnectionMonitor.</div><div class="ttdef"><b>Definition:</b> <a href="connection__monitor_8h_source.html#l00148">connection_monitor.h:148</a></div></div>
<div class="ttc" id="astructRadiusRF_html"><div class="ttname"><a href="structRadiusRF.html">RadiusRF</a></div><div class="ttdoc">A struct to specify the receptive field (RF) radius in 3 dimensions.</div><div class="ttdef"><b>Definition:</b> <a href="carlsim__datastructures_8h_source.html#l00363">carlsim_datastructures.h:363</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Jul 11 2020 19:24:13 for CARLsim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
